{"ast":null,"code":"var _jsxFileName = \"/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/pages/RentalDetailPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\nimport { RentalBasicInfo, RentalClients, RentalNotes, RentalButtons, RentalDates, RentalDrives } from \"../components/RentalProjects/Detail\";\nimport { Error } from \"../components/global\";\nimport { Button } from \"@material-ui/core\";\nimport { MainWrapper, PageHeadingWrapper, GridWrapper, SimpleDiv } from \"../styled/containers\";\nimport { PageHeading, PageSubheading } from \"../styled/typography\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { GET_RENTAL_QUERY, DELETE_RENTAL, HOME_PAGE_QUERY, GET_RENTALS_QUERY } from \"../gql\";\n\nconst RentalDetailPage = props => {\n  const location = useLocation(); // const [rentalId, setRentalId] = useState(\n  //   (props.location.state && props.location.state.rentalId) ||\n  //     window.location.pathname.slice(9)\n  // );\n\n  const [rentalId, setRentalId] = useState(location.pathname.slice(9));\n  const [deleted, setDeleted] = useState(false);\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(GET_RENTAL_QUERY, {\n    variables: {\n      id: rentalId\n    }\n  });\n  useEffect(() => {\n    if (location.pathname.slice(9) !== rentalId) {\n      setRentalId(location.pathname.slice(9));\n    }\n  });\n  return React.createElement(MainWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, deleted && React.createElement(Redirect, {\n    to: \"/rentals\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), loading && React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Loading\"), error && React.createElement(Error, {\n    error: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), data && React.createElement(React.Fragment, null, React.createElement(PageHeadingWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(PageHeading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, data.rentalProject.title), data.rentalProject.season && React.createElement(PageSubheading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Season \", data.rentalProject.season)), React.createElement(GridWrapper, {\n    columns: \"65% 35%\",\n    columnGap: \"30px\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(SimpleDiv, {\n    className: \"hacky-width\",\n    minWidth: \"100%\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(RentalBasicInfo, {\n    project: data.rentalProject,\n    abbreviation: data.rentalProject.abbreviation,\n    room: data.rentalProject.primaryRoom,\n    config: data.rentalProject.channelConfig,\n    driveUser: data.rentalProject.driveUser,\n    drivePass: data.rentalProject.drivePass,\n    msUser: data.rentalProject.msUser,\n    msPass: data.rentalProject.msPass,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(RentalClients, {\n    clients: data.rentalProject.rentalClients,\n    setRentalId: setRentalId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(RentalNotes, {\n    notes: data.rentalProject.additionalInfo,\n    projectId: data.rentalProject.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), React.createElement(SimpleDiv, {\n    gridColumn: \"2/3\",\n    alignSelf: \"start\",\n    width: \"100%\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(RentalButtons, {\n    primaryRoomId: data.rentalProject.primaryRoom && data.rentalProject.primaryRoom.id,\n    projectId: data.rentalProject.id,\n    filesLink: data.rentalProject.filesLink,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(RentalDates, {\n    startDate: data.rentalProject.startDate,\n    mixingCompleteDate: data.rentalProject.mixingCompleteDate,\n    projectCompleteDate: data.rentalProject.projectCompleteDate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(RentalDrives, {\n    totalDrives: data.rentalProject.totalDrives,\n    totalStorage: data.rentalProject.totalStorage,\n    drives: data.rentalProject.rentalDrives,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })))));\n};\n\nexport default RentalDetailPage;","map":{"version":3,"sources":["/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/pages/RentalDetailPage.js"],"names":["React","useState","useEffect","Redirect","Link","useLocation","RentalBasicInfo","RentalClients","RentalNotes","RentalButtons","RentalDates","RentalDrives","Error","Button","MainWrapper","PageHeadingWrapper","GridWrapper","SimpleDiv","PageHeading","PageSubheading","useQuery","useMutation","GET_RENTAL_QUERY","DELETE_RENTAL","HOME_PAGE_QUERY","GET_RENTALS_QUERY","RentalDetailPage","props","location","rentalId","setRentalId","pathname","slice","deleted","setDeleted","data","loading","error","variables","id","rentalProject","title","season","abbreviation","primaryRoom","channelConfig","driveUser","drivePass","msUser","msPass","rentalClients","additionalInfo","filesLink","startDate","mixingCompleteDate","projectCompleteDate","totalDrives","totalStorage","rentalDrives"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect, Link, useLocation } from \"react-router-dom\";\n\nimport {\n  RentalBasicInfo,\n  RentalClients,\n  RentalNotes,\n  RentalButtons,\n  RentalDates,\n  RentalDrives,\n} from \"../components/RentalProjects/Detail\";\nimport { Error } from \"../components/global\";\n\nimport { Button } from \"@material-ui/core\";\n\nimport {\n  MainWrapper,\n  PageHeadingWrapper,\n  GridWrapper,\n  SimpleDiv,\n} from \"../styled/containers\";\nimport { PageHeading, PageSubheading } from \"../styled/typography\";\n\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport {\n  GET_RENTAL_QUERY,\n  DELETE_RENTAL,\n  HOME_PAGE_QUERY,\n  GET_RENTALS_QUERY,\n} from \"../gql\";\n\nconst RentalDetailPage = (props) => {\n  const location = useLocation();\n  // const [rentalId, setRentalId] = useState(\n  //   (props.location.state && props.location.state.rentalId) ||\n  //     window.location.pathname.slice(9)\n  // );\n  const [rentalId, setRentalId] = useState(location.pathname.slice(9));\n  const [deleted, setDeleted] = useState(false);\n\n  const { data, loading, error } = useQuery(GET_RENTAL_QUERY, {\n    variables: {\n      id: rentalId,\n    },\n  });\n\n  useEffect(() => {\n    if (location.pathname.slice(9) !== rentalId) {\n      setRentalId(location.pathname.slice(9));\n    }\n  });\n\n  return (\n    <MainWrapper>\n      {deleted && <Redirect to=\"/rentals\" />}\n      {loading && <h1>Loading</h1>}\n      {error && <Error error={error} />}\n      {data && (\n        <>\n          <PageHeadingWrapper>\n            <PageHeading>{data.rentalProject.title}</PageHeading>\n            {data.rentalProject.season && (\n              <PageSubheading>\n                Season {data.rentalProject.season}\n              </PageSubheading>\n            )}\n          </PageHeadingWrapper>\n          <GridWrapper columns=\"65% 35%\" columnGap=\"30px\">\n            <SimpleDiv className=\"hacky-width\" minWidth=\"100%\">\n              <RentalBasicInfo\n                project={data.rentalProject}\n                abbreviation={data.rentalProject.abbreviation}\n                room={data.rentalProject.primaryRoom}\n                config={data.rentalProject.channelConfig}\n                driveUser={data.rentalProject.driveUser}\n                drivePass={data.rentalProject.drivePass}\n                msUser={data.rentalProject.msUser}\n                msPass={data.rentalProject.msPass}\n              />\n              <RentalClients\n                clients={data.rentalProject.rentalClients}\n                setRentalId={setRentalId}\n              />\n              <RentalNotes\n                notes={data.rentalProject.additionalInfo}\n                projectId={data.rentalProject.id}\n              />\n            </SimpleDiv>\n            <SimpleDiv gridColumn=\"2/3\" alignSelf=\"start\" width=\"100%\">\n              <RentalButtons\n                primaryRoomId={\n                  data.rentalProject.primaryRoom &&\n                  data.rentalProject.primaryRoom.id\n                }\n                projectId={data.rentalProject.id}\n                filesLink={data.rentalProject.filesLink}\n              />\n              <RentalDates\n                startDate={data.rentalProject.startDate}\n                mixingCompleteDate={data.rentalProject.mixingCompleteDate}\n                projectCompleteDate={data.rentalProject.projectCompleteDate}\n              />\n              <RentalDrives\n                totalDrives={data.rentalProject.totalDrives}\n                totalStorage={data.rentalProject.totalStorage}\n                drives={data.rentalProject.rentalDrives}\n              />\n            </SimpleDiv>\n          </GridWrapper>\n        </>\n      )}\n    </MainWrapper>\n  );\n};\n\nexport default RentalDetailPage;\n"]},"metadata":{},"sourceType":"module"}