{"ast":null,"code":"var _jsxFileName = \"/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/pages/Login.js\";\nimport React, { useState } from \"react\";\nimport { makeStyles, Typography, TextField, Button, Box, Snackbar } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { LOGIN_MUT } from \"../gql\";\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\nconst useStyles = makeStyles({\n  mainContainer: {\n    display: \"block\",\n    margin: \"10% auto 0 auto\",\n    borderRadius: \"5px\",\n    maxWidth: \"500px\"\n  },\n  formInput: {\n    margin: \"10px 0\"\n  },\n  pageHeading: {\n    textTransform: \"uppercase\"\n  }\n});\n\nfunction Alert(props) {\n  return React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }));\n}\n\nexport const Login = () => {\n  const classes = useStyles();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [tokenAuth, {\n    error\n  }] = useMutation(LOGIN_MUT);\n  const client = useApolloClient();\n\n  const formSubmit = async (e, username, password) => {\n    e.preventDefault();\n    const res = await tokenAuth({\n      variables: {\n        username: username,\n        password: password\n      }\n    });\n    localStorage.setItem(\"authToken\", res.data.tokenAuth.token);\n    client.writeData({\n      data: {\n        isLoggedIn: true\n      }\n    });\n  };\n\n  return React.createElement(Box, {\n    className: classes.mainContainer,\n    boxShadow: 3,\n    p: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.pageHeading,\n    variant: \"h2\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Login\"), error && React.createElement(Snackbar, {\n    open: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Alert, {\n    severity: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, error.message)), React.createElement(Box, {\n    component: \"form\",\n    className: classes.form,\n    onSubmit: e => formSubmit(e, username, password),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    label: \"Username\",\n    placeholder: \"Username\",\n    className: classes.formInput,\n    variant: \"outlined\",\n    fullWidth: true,\n    required: true,\n    onChange: e => setUsername(e.target.value),\n    value: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    label: \"Password\",\n    placeholder: \"Password\",\n    type: \"password\",\n    variant: \"outlined\",\n    className: classes.formInput,\n    required: true,\n    fullWidth: true,\n    onChange: e => setPassword(e.target.value),\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    className: classes.formInput,\n    fullWidth: true,\n    disabled: !username.trim() || !password.trim(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Submit\")));\n};","map":{"version":3,"sources":["/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/pages/Login.js"],"names":["React","useState","makeStyles","Typography","TextField","Button","Box","Snackbar","MuiAlert","LOGIN_MUT","useMutation","useApolloClient","useStyles","mainContainer","display","margin","borderRadius","maxWidth","formInput","pageHeading","textTransform","Alert","props","Login","classes","username","setUsername","password","setPassword","tokenAuth","error","client","formSubmit","e","preventDefault","res","variables","localStorage","setItem","data","token","writeData","isLoggedIn","message","form","target","value","trim"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport {\n  makeStyles,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Snackbar\n} from \"@material-ui/core\";\n\nimport MuiAlert from \"@material-ui/lab/Alert\";\n\nimport { LOGIN_MUT } from \"../gql\";\nimport { useMutation, useApolloClient } from \"@apollo/react-hooks\";\n\nconst useStyles = makeStyles({\n  mainContainer: {\n    display: \"block\",\n    margin: \"10% auto 0 auto\",\n    borderRadius: \"5px\",\n    maxWidth: \"500px\"\n  },\n  formInput: {\n    margin: \"10px 0\"\n  },\n  pageHeading: {\n    textTransform: \"uppercase\"\n  }\n});\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport const Login = () => {\n  const classes = useStyles();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [tokenAuth, { error }] = useMutation(LOGIN_MUT);\n  const client = useApolloClient();\n\n  const formSubmit = async (e, username, password) => {\n    e.preventDefault();\n    const res = await tokenAuth({\n      variables: { username: username, password: password }\n    });\n    localStorage.setItem(\"authToken\", res.data.tokenAuth.token);\n    client.writeData({ data: { isLoggedIn: true } });\n  };\n\n  return (\n    <Box className={classes.mainContainer} boxShadow={3} p={5}>\n      <Typography className={classes.pageHeading} variant=\"h2\" align=\"center\">\n        Login\n      </Typography>\n      {error && (\n        <Snackbar open={true}>\n          <Alert severity=\"error\">{error.message}</Alert>\n        </Snackbar>\n      )}\n      <Box\n        component=\"form\"\n        className={classes.form}\n        onSubmit={e => formSubmit(e, username, password)}\n      >\n        <TextField\n          label=\"Username\"\n          placeholder=\"Username\"\n          className={classes.formInput}\n          variant=\"outlined\"\n          fullWidth\n          required\n          onChange={e => setUsername(e.target.value)}\n          value={username}\n        />\n\n        <TextField\n          label=\"Password\"\n          placeholder=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          className={classes.formInput}\n          required\n          fullWidth\n          onChange={e => setPassword(e.target.value)}\n          value={password}\n        />\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          className={classes.formInput}\n          fullWidth\n          disabled={!username.trim() || !password.trim()}\n        >\n          Submit\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}