{"ast":null,"code":"var _jsxFileName = \"/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/components/RentalProjects/NewRentalModal.js\";\nimport React, { useState } from \"react\";\nimport { useModal } from \"../../utils\";\nimport { Redirect } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_RENTAL, HOME_PAGE_QUERY, GET_RENTALS_QUERY } from \"../../gql\";\nimport { Modal, ModalArea, ModalCloseIcon } from \"../utilities\";\nimport { PageHeading } from \"../../styled/typography\";\nimport { GridWrapper, InputWrapper, PositionWrapper } from \"../../styled/containers\";\nimport { RedButton, RoundButton } from \"../../styled/buttons\";\nimport { makeStyles, Button, InputLabel, MenuItem, Select, OutlinedInput, IconButton } from \"@material-ui/core\";\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\nconst useStyles = makeStyles({\n  select: {\n    minWidth: \"212px\"\n  },\n  label: {\n    paddingLeft: \"12px\"\n  },\n  search: {}\n});\nexport const NewRentalModal = ({\n  homeButton\n}) => {\n  const [newRentalId, setNewRentalId] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [abbr, setAbbr] = useState(\"\");\n  const [googleDrive, setGoogleDrive] = useState(\"\");\n  const [season, setSeason] = useState(null);\n  const [startDate, setStartDate] = useState(null);\n  const [channelConfig, setChannelConfig] = useState(\"5.1\");\n  const {\n    isShowing,\n    toggle\n  } = useModal();\n  const [createRentalProject, {\n    error\n  }] = useMutation(CREATE_RENTAL);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const res = await createRentalProject({\n      variables: {\n        title,\n        abbreviation: abbr,\n        filesLink: googleDrive,\n        channelConfig,\n        season,\n        startDate\n      },\n      refetchQueries: [{\n        query: GET_RENTALS_QUERY\n      }, {\n        query: HOME_PAGE_QUERY,\n        variables: {\n          limit: 8,\n          reverse: true\n        }\n      }]\n    });\n\n    if (res.data.createRentalProject.project) {\n      setNewRentalId(res.data.createRentalProject.project.id);\n    }\n  };\n\n  const handleToggle = () => {\n    setTitle(\"\");\n    setAbbr(\"\");\n    setGoogleDrive(\"\");\n    setSeason(null);\n    setStartDate(null);\n    setChannelConfig(\"5.1\");\n    setGoogleDrive(\"\");\n    toggle();\n  };\n\n  const classes = useStyles();\n  return React.createElement(React.Fragment, null, newRentalId && React.createElement(Redirect, {\n    push: true,\n    to: `/rentals/${newRentalId}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), homeButton ? React.createElement(RedButton, {\n    small: true,\n    onClick: () => toggle(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"New Rental\") : React.createElement(PositionWrapper, {\n    position: \"fixed\",\n    bottom: \"5%\",\n    right: \"4%\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(RoundButton, {\n    onClick: () => toggle(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"+\")), React.createElement(Modal, {\n    isShowing: isShowing,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(ModalArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(ModalCloseIcon, {\n    toggle: handleToggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(PageHeading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"New Rental\"), React.createElement(GridWrapper, {\n    as: \"form\",\n    minWidth: \"622px;\",\n    maxWidth: \"622px;\",\n    margin: \"20px 0 0 0 \",\n    onSubmit: e => handleSubmit(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(InputWrapper, {\n    gridColumn: \"span 6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    className: classes.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Title\"), React.createElement(OutlinedInput, {\n    placeholder: \"Star Wars\",\n    fullWidth: true,\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(InputWrapper, {\n    gridColumn: \"span 2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    className: classes.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Season\"), React.createElement(OutlinedInput, {\n    placeholder: \"1\",\n    value: season,\n    onChange: e => setSeason(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(InputWrapper, {\n    gridColumn: \"span 4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    className: classes.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Abbreviation\"), React.createElement(OutlinedInput, {\n    placeholder: \"starwars \",\n    value: abbr,\n    onChange: e => setAbbr(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  })), React.createElement(InputWrapper, {\n    gridColumn: \"span 3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    className: classes.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Config\"), React.createElement(Select, {\n    color: \"primary\",\n    variant: \"outlined\",\n    fullWidth: true,\n    defaultValue: channelConfig,\n    onChange: e => setChannelConfig(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    value: \"ST\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Stereo\"), React.createElement(MenuItem, {\n    value: \"5.1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"5.1\"), React.createElement(MenuItem, {\n    value: \"7.1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"7.1\"), React.createElement(MenuItem, {\n    value: \"ATMOS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"ATMOS\"), React.createElement(MenuItem, {\n    value: \"DTS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"DTS\"), React.createElement(MenuItem, {\n    value: \"IMAX6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"IMAX 6\"), React.createElement(MenuItem, {\n    value: \"IMAX12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"IMAX 12\"))), React.createElement(InputWrapper, {\n    gridColumn: \"span 4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    className: classes.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Start Date\"), React.createElement(OutlinedInput, {\n    type: \"date\",\n    value: startDate,\n    onChange: e => setStartDate(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  })), React.createElement(InputWrapper, {\n    gridColumn: \"span 12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    className: classes.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"GoogleDrive\"), React.createElement(OutlinedInput, {\n    placeholder: \"http://drive.google.com/to/rental/folder\",\n    fullWidth: true,\n    endAdornment: React.createElement(IconButton, {\n      href: \"http://www.google.com\",\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(OpenInNewIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })),\n    value: googleDrive,\n    onChange: e => setGoogleDrive(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })), React.createElement(InputWrapper, {\n    gridColumn: \"4 / 10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"large\",\n    disabled: !title.trim() || !abbr.trim() || !googleDrive.trim(),\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, `Create ${title}`))))));\n};","map":{"version":3,"sources":["/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/components/RentalProjects/NewRentalModal.js"],"names":["React","useState","useModal","Redirect","useMutation","CREATE_RENTAL","HOME_PAGE_QUERY","GET_RENTALS_QUERY","Modal","ModalArea","ModalCloseIcon","PageHeading","GridWrapper","InputWrapper","PositionWrapper","RedButton","RoundButton","makeStyles","Button","InputLabel","MenuItem","Select","OutlinedInput","IconButton","OpenInNewIcon","useStyles","select","minWidth","label","paddingLeft","search","NewRentalModal","homeButton","newRentalId","setNewRentalId","title","setTitle","abbr","setAbbr","googleDrive","setGoogleDrive","season","setSeason","startDate","setStartDate","channelConfig","setChannelConfig","isShowing","toggle","createRentalProject","error","handleSubmit","e","preventDefault","res","variables","abbreviation","filesLink","refetchQueries","query","limit","reverse","data","project","id","handleToggle","classes","target","value","trim"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useModal } from \"../../utils\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_RENTAL, HOME_PAGE_QUERY, GET_RENTALS_QUERY } from \"../../gql\";\n\nimport { Modal, ModalArea, ModalCloseIcon } from \"../utilities\";\nimport { PageHeading } from \"../../styled/typography\";\nimport {\n  GridWrapper,\n  InputWrapper,\n  PositionWrapper\n} from \"../../styled/containers\";\n\nimport { RedButton, RoundButton } from \"../../styled/buttons\";\n\nimport {\n  makeStyles,\n  Button,\n  InputLabel,\n  MenuItem,\n  Select,\n  OutlinedInput,\n  IconButton\n} from \"@material-ui/core\";\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\n\nconst useStyles = makeStyles({\n  select: {\n    minWidth: \"212px\"\n  },\n  label: {\n    paddingLeft: \"12px\"\n  },\n  search: {}\n});\n\nexport const NewRentalModal = ({ homeButton }) => {\n  const [newRentalId, setNewRentalId] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [abbr, setAbbr] = useState(\"\");\n  const [googleDrive, setGoogleDrive] = useState(\"\");\n  const [season, setSeason] = useState(null);\n  const [startDate, setStartDate] = useState(null);\n  const [channelConfig, setChannelConfig] = useState(\"5.1\");\n\n  const { isShowing, toggle } = useModal();\n\n  const [createRentalProject, { error }] = useMutation(CREATE_RENTAL);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const res = await createRentalProject({\n      variables: {\n        title,\n        abbreviation: abbr,\n        filesLink: googleDrive,\n        channelConfig,\n        season,\n        startDate\n      },\n      refetchQueries: [\n        { query: GET_RENTALS_QUERY },\n        { query: HOME_PAGE_QUERY, variables: { limit: 8, reverse: true } }\n      ]\n    });\n    if (res.data.createRentalProject.project) {\n      setNewRentalId(res.data.createRentalProject.project.id);\n    }\n  };\n\n  const handleToggle = () => {\n    setTitle(\"\");\n    setAbbr(\"\");\n    setGoogleDrive(\"\");\n    setSeason(null);\n    setStartDate(null);\n    setChannelConfig(\"5.1\");\n    setGoogleDrive(\"\");\n    toggle();\n  };\n\n  const classes = useStyles();\n\n  return (\n    <>\n      {newRentalId && <Redirect push to={`/rentals/${newRentalId}`} />}\n      {homeButton ? (\n        <RedButton small onClick={() => toggle()}>\n          New Rental\n        </RedButton>\n      ) : (\n        <PositionWrapper position=\"fixed\" bottom=\"5%\" right=\"4%\">\n          <RoundButton onClick={() => toggle()}>+</RoundButton>\n        </PositionWrapper>\n      )}\n      <Modal isShowing={isShowing}>\n        <ModalArea>\n          <ModalCloseIcon toggle={handleToggle} />\n\n          <PageHeading>New Rental</PageHeading>\n          <GridWrapper\n            as=\"form\"\n            minWidth=\"622px;\"\n            maxWidth=\"622px;\"\n            margin=\"20px 0 0 0 \"\n            onSubmit={e => handleSubmit(e)}\n          >\n            <InputWrapper gridColumn=\"span 6\">\n              <InputLabel className={classes.label}>Title</InputLabel>\n              <OutlinedInput\n                placeholder=\"Star Wars\"\n                fullWidth\n                value={title}\n                onChange={e => setTitle(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 2\">\n              <InputLabel className={classes.label}>Season</InputLabel>\n              <OutlinedInput\n                placeholder=\"1\"\n                value={season}\n                onChange={e => setSeason(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 4\">\n              <InputLabel className={classes.label}>Abbreviation</InputLabel>\n              <OutlinedInput\n                placeholder=\"starwars \"\n                value={abbr}\n                onChange={e => setAbbr(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 3\">\n              <InputLabel className={classes.label}>Config</InputLabel>\n              <Select\n                color=\"primary\"\n                variant=\"outlined\"\n                fullWidth\n                defaultValue={channelConfig}\n                onChange={e => setChannelConfig(e.target.value)}\n              >\n                <MenuItem value=\"ST\">Stereo</MenuItem>\n                <MenuItem value=\"5.1\">5.1</MenuItem>\n                <MenuItem value=\"7.1\">7.1</MenuItem>\n                <MenuItem value=\"ATMOS\">ATMOS</MenuItem>\n                <MenuItem value=\"DTS\">DTS</MenuItem>\n                <MenuItem value=\"IMAX6\">IMAX 6</MenuItem>\n                <MenuItem value=\"IMAX12\">IMAX 12</MenuItem>\n              </Select>\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 4\">\n              <InputLabel className={classes.label}>Start Date</InputLabel>\n              <OutlinedInput\n                type=\"date\"\n                value={startDate}\n                onChange={e => setStartDate(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 12\">\n              <InputLabel className={classes.label}>GoogleDrive</InputLabel>\n              <OutlinedInput\n                placeholder=\"http://drive.google.com/to/rental/folder\"\n                fullWidth\n                endAdornment={\n                  <IconButton href=\"http://www.google.com\" target=\"_blank\">\n                    <OpenInNewIcon />\n                  </IconButton>\n                }\n                value={googleDrive}\n                onChange={e => setGoogleDrive(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"4 / 10\">\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                variant=\"contained\"\n                size=\"large\"\n                disabled={!title.trim() || !abbr.trim() || !googleDrive.trim()}\n                fullWidth\n              >{`Create ${title}`}</Button>\n            </InputWrapper>\n          </GridWrapper>\n        </ModalArea>\n      </Modal>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}