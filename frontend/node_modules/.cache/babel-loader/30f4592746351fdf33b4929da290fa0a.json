{"ast":null,"code":"import _regeneratorRuntime from\"/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useModal}from\"../../../../utils\";import{Modal,ModalArea,ModalCloseIcon}from\"../../../utilities\";import{PageHeading}from\"../../../../styled/typography\";import{GridWrapper,InputWrapper}from\"../../../../styled/containers\";import{Error}from\"../../../global\";import{makeStyles,Button,InputLabel,OutlinedInput,Select,MenuItem,IconButton}from\"@material-ui/core\";import OpenInNewIcon from\"@material-ui/icons/OpenInNew\";import{EDIT_BASIC_INFO}from\"../../../../gql\";import{useMutation}from\"@apollo/react-hooks\";var useStyles=makeStyles({label:{paddingLeft:\"12px\"}});export var EditBasicInfo=function EditBasicInfo(_ref){var project=_ref.project,projectId=_ref.projectId;var _useState=useState(project.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(project.abbreviation),_useState4=_slicedToArray(_useState3,2),abbr=_useState4[0],setAbbr=_useState4[1];var _useState5=useState(project.driveUser||\"\"),_useState6=_slicedToArray(_useState5,2),driveUser=_useState6[0],setDriveUser=_useState6[1];var _useState7=useState(project.drivePass||\"\"),_useState8=_slicedToArray(_useState7,2),drivePass=_useState8[0],setDrivePass=_useState8[1];var _useState9=useState(project.msUser||\"\"),_useState10=_slicedToArray(_useState9,2),msUser=_useState10[0],setMsUser=_useState10[1];var _useState11=useState(project.msPass||\"\"),_useState12=_slicedToArray(_useState11,2),msPass=_useState12[0],setMsPass=_useState12[1];var _useState13=useState(project.filesLink||\"\"),_useState14=_slicedToArray(_useState13,2),googleDrive=_useState14[0],setGoogleDrive=_useState14[1];var _useState15=useState(project.season||\"\"),_useState16=_slicedToArray(_useState15,2),season=_useState16[0],setSeason=_useState16[1];var _useState17=useState(project.channelConfig),_useState18=_slicedToArray(_useState17,2),channelConfig=_useState18[0],setChannelConfig=_useState18[1];var _useModal=useModal(),isShowing=_useModal.isShowing,toggle=_useModal.toggle;var _useMutation=useMutation(EDIT_BASIC_INFO),_useMutation2=_slicedToArray(_useMutation,2),updateRentalProject=_useMutation2[0],error=_useMutation2[1].error;var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return updateRentalProject({variables:{id:projectId,title:title,abbreviation:abbr,driveUser:driveUser||\"n/a\",drivePass:drivePass||\"n/a\",msUser:msUser||\"n/a\",msPass:msPass||\"n/a\",filesLink:googleDrive,season:season||999,channelConfig:channelConfig}});case 3:res=_context.sent;console.log(res);updateComplete(res);case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var updateComplete=function updateComplete(res){console.log(res);};var cancelToggle=function cancelToggle(){setTitle(project.title);setAbbr(project.abbreviation);setDriveUser(project.driveUser);setDrivePass(project.drivePass);setMsUser(project.msUser);setMsPass(project.MsPass);setGoogleDrive(project.filesLink);setSeason(project.season);setChannelConfig(project.channelConfig);toggle();};var classes=useStyles();return React.createElement(React.Fragment,null,React.createElement(Button,{color:\"secondary\",variant:\"contained\",size:\"small\",onClick:function onClick(e){return toggle();}},\"Edit Basic Info\"),React.createElement(Modal,{isShowing:isShowing},React.createElement(ModalArea,null,React.createElement(ModalCloseIcon,{toggle:cancelToggle}),React.createElement(PageHeading,null,\"Edit Info\"),React.createElement(GridWrapper,{as:\"form\",minWidth:\"622px;\",maxWidth:\"622px;\",margin:\"20px 0 0 0 \",onSubmit:function onSubmit(e){return handleSubmit(e);}},React.createElement(InputWrapper,{gridColumn:\"span 6\"},React.createElement(InputLabel,{id:\"title-label\",className:classes.label,required:true},\"Title\"),React.createElement(OutlinedInput,{labelId:\"title-label\",id:\"title-input\",color:\"primary\",fullWidth:true,required:true,placeholder:\"Star Wars\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 2\"},React.createElement(InputLabel,{id:\"season-label\",className:classes.label},\"Season\"),React.createElement(OutlinedInput,{labelId:\"season-label\",id:\"season-input\",placeholder:\"1\",value:season,onChange:function onChange(e){return setSeason(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 3\"},React.createElement(InputLabel,{id:\"config-label\",className:classes.label,required:true},\"Config\"),React.createElement(Select,{labelId:\"config-label\",id:\"config-input\",color:\"primary\",variant:\"outlined\",fullWidth:true,required:true,value:channelConfig,onChange:function onChange(e){return setChannelConfig(e.target.value);}},React.createElement(MenuItem,{value:\"ST\"},\"Stereo\"),React.createElement(MenuItem,{value:\"5.1\"},\"5.1\"),React.createElement(MenuItem,{value:\"7.1\"},\"7.1\"),React.createElement(MenuItem,{value:\"ATMOS\"},\"ATMOS\"),React.createElement(MenuItem,{value:\"DTS\"},\"DTS\"),React.createElement(MenuItem,{value:\"IMAX 6\"},\"IMAX 6\"),React.createElement(MenuItem,{value:\"IMAX 12\"},\"IMAX 12\"))),React.createElement(InputWrapper,{gridColumn:\"span 4\",gridRow:\"2\"},React.createElement(InputLabel,{id:\"abbr-label\",className:classes.label,required:true},\"Abbreviation\"),React.createElement(OutlinedInput,{labelId:\"abbr-label\",id:\"abbr-input\",color:\"primary\",fullWidth:true,required:true,placeholder:\"starwars \",value:abbr,onChange:function onChange(e){return setAbbr(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 4\",gridRow:\"3\"},React.createElement(InputLabel,{id:\"drive-user-label\",className:classes.label},\"Drive Username\"),React.createElement(OutlinedInput,{labelId:\"drive-user-label\",id:\"drive-user-input\",color:\"primary\",fullWidth:true,placeholder:\"starwars \",value:driveUser,onChange:function onChange(e){return setDriveUser(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 4\",gridRow:\"3\"},React.createElement(InputLabel,{id:\"drive-pass-label\",className:classes.label},\"Drive Password\"),React.createElement(OutlinedInput,{labelId:\"drive-pass-label\",id:\"drive-pass-input\",color:\"primary\",fullWidth:true,placeholder:\"starwars \",value:drivePass,onChange:function onChange(e){return setDrivePass(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 4\",gridRow:\"4\"},React.createElement(InputLabel,{id:\"ms-user-label\",className:classes.label},\"MS Username\"),React.createElement(OutlinedInput,{labelId:\"ms-user-label\",id:\"ms-user-input\",color:\"primary\",fullWidth:true,placeholder:\"starwars \",value:msUser,onChange:function onChange(e){return setMsUser(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 4\",gridRow:\"4\"},React.createElement(InputLabel,{id:\"ms-pass-label\",className:classes.label},\"MS Password\"),React.createElement(OutlinedInput,{labelId:\"ms-pass-label\",id:\"ms-pass-input\",color:\"primary\",fullWidth:true,placeholder:\"starwars \",value:msPass,onChange:function onChange(e){return setMsPass(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"span 12\"},React.createElement(InputLabel,{id:\"files-link-label\",className:classes.label,required:true},\"GoogleDrive\"),React.createElement(OutlinedInput,{labelId:\"files-link-label\",id:\"files-link-input\",placeholder:\"http://drive.google.com/to/rental/folder\",fullWidth:true,endAdornment:React.createElement(IconButton,{href:\"http://www.google.com\",target:\"_blank\"},React.createElement(OpenInNewIcon,null)),required:true,value:googleDrive,onChange:function onChange(e){return setGoogleDrive(e.target.value);}})),React.createElement(InputWrapper,{gridColumn:\"4 / 10\"},React.createElement(Button,{type:\"submit\",color:\"primary\",variant:\"contained\",size:\"large\",disabled:!title.trim()||!abbr.trim()||!googleDrive.trim(),fullWidth:true},\"Confirm \".concat(title)))),error&&React.createElement(Error,{error:error}))));};","map":{"version":3,"sources":["/Users/georgehart/Documents/WebDev/Work/swd_engineering/swd_engineering/frontend/src/components/RentalProjects/Detail/ButtonModals/EditBasicInfo.js"],"names":["React","useState","useModal","Modal","ModalArea","ModalCloseIcon","PageHeading","GridWrapper","InputWrapper","Error","makeStyles","Button","InputLabel","OutlinedInput","Select","MenuItem","IconButton","OpenInNewIcon","EDIT_BASIC_INFO","useMutation","useStyles","label","paddingLeft","EditBasicInfo","project","projectId","title","setTitle","abbreviation","abbr","setAbbr","driveUser","setDriveUser","drivePass","setDrivePass","msUser","setMsUser","msPass","setMsPass","filesLink","googleDrive","setGoogleDrive","season","setSeason","channelConfig","setChannelConfig","isShowing","toggle","updateRentalProject","error","handleSubmit","e","preventDefault","variables","id","res","console","log","updateComplete","cancelToggle","MsPass","classes","target","value","trim"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useModal } from \"../../../../utils\";\n\nimport { Modal, ModalArea, ModalCloseIcon } from \"../../../utilities\";\nimport { PageHeading } from \"../../../../styled/typography\";\nimport { GridWrapper, InputWrapper } from \"../../../../styled/containers\";\nimport { Error } from \"../../../global\";\n\nimport {\n  makeStyles,\n  Button,\n  InputLabel,\n  OutlinedInput,\n  Select,\n  MenuItem,\n  IconButton\n} from \"@material-ui/core\";\n\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\n\nimport { EDIT_BASIC_INFO } from \"../../../../gql\";\nimport { useMutation } from \"@apollo/react-hooks\";\n\nconst useStyles = makeStyles({\n  label: {\n    paddingLeft: \"12px\"\n  }\n});\n\nexport const EditBasicInfo = ({ project, projectId }) => {\n  const [title, setTitle] = useState(project.title);\n  const [abbr, setAbbr] = useState(project.abbreviation);\n  const [driveUser, setDriveUser] = useState(project.driveUser || \"\");\n  const [drivePass, setDrivePass] = useState(project.drivePass || \"\");\n  const [msUser, setMsUser] = useState(project.msUser || \"\");\n  const [msPass, setMsPass] = useState(project.msPass || \"\");\n  const [googleDrive, setGoogleDrive] = useState(project.filesLink || \"\");\n  const [season, setSeason] = useState(project.season || \"\");\n  const [channelConfig, setChannelConfig] = useState(project.channelConfig);\n\n  const { isShowing, toggle } = useModal();\n\n  const [updateRentalProject, { error }] = useMutation(EDIT_BASIC_INFO);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const res = await updateRentalProject({\n      variables: {\n        id: projectId,\n        title,\n        abbreviation: abbr,\n        driveUser: driveUser || \"n/a\",\n        drivePass: drivePass || \"n/a\",\n        msUser: msUser || \"n/a\",\n        msPass: msPass || \"n/a\",\n        filesLink: googleDrive,\n        season: season || 999,\n        channelConfig\n      }\n    });\n    console.log(res);\n    updateComplete(res);\n  };\n\n  const updateComplete = res => {\n    console.log(res);\n  };\n\n  const cancelToggle = () => {\n    setTitle(project.title);\n    setAbbr(project.abbreviation);\n    setDriveUser(project.driveUser);\n    setDrivePass(project.drivePass);\n    setMsUser(project.msUser);\n    setMsPass(project.MsPass);\n    setGoogleDrive(project.filesLink);\n    setSeason(project.season);\n    setChannelConfig(project.channelConfig);\n    toggle();\n  };\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <Button\n        color=\"secondary\"\n        variant=\"contained\"\n        size=\"small\"\n        onClick={e => toggle()}\n      >\n        Edit Basic Info\n      </Button>\n\n      <Modal isShowing={isShowing}>\n        <ModalArea>\n          <ModalCloseIcon toggle={cancelToggle} />\n\n          <PageHeading>Edit Info</PageHeading>\n          <GridWrapper\n            as=\"form\"\n            minWidth=\"622px;\"\n            maxWidth=\"622px;\"\n            margin=\"20px 0 0 0 \"\n            onSubmit={e => handleSubmit(e)}\n          >\n            <InputWrapper gridColumn=\"span 6\">\n              <InputLabel id=\"title-label\" className={classes.label} required>\n                Title\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"title-label\"\n                id=\"title-input\"\n                color=\"primary\"\n                fullWidth\n                required\n                placeholder=\"Star Wars\"\n                value={title}\n                onChange={e => setTitle(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 2\">\n              <InputLabel id=\"season-label\" className={classes.label}>\n                Season\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"season-label\"\n                id=\"season-input\"\n                placeholder=\"1\"\n                value={season}\n                onChange={e => setSeason(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 3\">\n              <InputLabel id=\"config-label\" className={classes.label} required>\n                Config\n              </InputLabel>\n              <Select\n                labelId=\"config-label\"\n                id=\"config-input\"\n                color=\"primary\"\n                variant=\"outlined\"\n                fullWidth\n                required\n                value={channelConfig}\n                onChange={e => setChannelConfig(e.target.value)}\n              >\n                <MenuItem value=\"ST\">Stereo</MenuItem>\n                <MenuItem value=\"5.1\">5.1</MenuItem>\n                <MenuItem value=\"7.1\">7.1</MenuItem>\n                <MenuItem value=\"ATMOS\">ATMOS</MenuItem>\n                <MenuItem value=\"DTS\">DTS</MenuItem>\n                <MenuItem value=\"IMAX 6\">IMAX 6</MenuItem>\n                <MenuItem value=\"IMAX 12\">IMAX 12</MenuItem>\n              </Select>\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 4\" gridRow=\"2\">\n              <InputLabel id=\"abbr-label\" className={classes.label} required>\n                Abbreviation\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"abbr-label\"\n                id=\"abbr-input\"\n                color=\"primary\"\n                fullWidth\n                required\n                placeholder=\"starwars \"\n                value={abbr}\n                onChange={e => setAbbr(e.target.value)}\n              />\n            </InputWrapper>\n            <InputWrapper gridColumn=\"span 4\" gridRow=\"3\">\n              <InputLabel id=\"drive-user-label\" className={classes.label}>\n                Drive Username\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"drive-user-label\"\n                id=\"drive-user-input\"\n                color=\"primary\"\n                fullWidth\n                placeholder=\"starwars \"\n                value={driveUser}\n                onChange={e => setDriveUser(e.target.value)}\n              />\n            </InputWrapper>\n            <InputWrapper gridColumn=\"span 4\" gridRow=\"3\">\n              <InputLabel id=\"drive-pass-label\" className={classes.label}>\n                Drive Password\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"drive-pass-label\"\n                id=\"drive-pass-input\"\n                color=\"primary\"\n                fullWidth\n                placeholder=\"starwars \"\n                value={drivePass}\n                onChange={e => setDrivePass(e.target.value)}\n              />\n            </InputWrapper>\n            <InputWrapper gridColumn=\"span 4\" gridRow=\"4\">\n              <InputLabel id=\"ms-user-label\" className={classes.label}>\n                MS Username\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"ms-user-label\"\n                id=\"ms-user-input\"\n                color=\"primary\"\n                fullWidth\n                placeholder=\"starwars \"\n                value={msUser}\n                onChange={e => setMsUser(e.target.value)}\n              />\n            </InputWrapper>\n            <InputWrapper gridColumn=\"span 4\" gridRow=\"4\">\n              <InputLabel id=\"ms-pass-label\" className={classes.label}>\n                MS Password\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"ms-pass-label\"\n                id=\"ms-pass-input\"\n                color=\"primary\"\n                fullWidth\n                placeholder=\"starwars \"\n                value={msPass}\n                onChange={e => setMsPass(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"span 12\">\n              <InputLabel\n                id=\"files-link-label\"\n                className={classes.label}\n                required\n              >\n                GoogleDrive\n              </InputLabel>\n              <OutlinedInput\n                labelId=\"files-link-label\"\n                id=\"files-link-input\"\n                placeholder=\"http://drive.google.com/to/rental/folder\"\n                fullWidth\n                endAdornment={\n                  <IconButton href=\"http://www.google.com\" target=\"_blank\">\n                    <OpenInNewIcon />\n                  </IconButton>\n                }\n                required\n                value={googleDrive}\n                onChange={e => setGoogleDrive(e.target.value)}\n              />\n            </InputWrapper>\n\n            <InputWrapper gridColumn=\"4 / 10\">\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                variant=\"contained\"\n                size=\"large\"\n                disabled={!title.trim() || !abbr.trim() || !googleDrive.trim()}\n                fullWidth\n              >{`Confirm ${title}`}</Button>\n            </InputWrapper>\n          </GridWrapper>\n          {error && <Error error={error} />}\n        </ModalArea>\n      </Modal>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}